!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VueFormJsonSchema",[],t):"object"==typeof exports?exports.VueFormJsonSchema=t():e.VueFormJsonSchema=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(r[i])return r[i].exports;var s=r[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,i){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VFJS_EVENT_FIELD_STATE_UPDATE="VFJS_EVENT_FIELD_STATE_UPDATE",t.VFJS_EVENT_FIELD_MODEL_VALIDATE="VFJS_EVENT_FIELD_MODEL_VALIDATE",t.VFJS_EVENT_FIELD_MODEL_UPDATE="VFJS_EVENT_FIELD_MODEL_UPDATE",t.VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN="VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN",t.VFJS_EVENT_MODEL_UPDATE="VFJS_EVENT_MODEL_UPDATE",t.VFJS_EVENT_MODEL_UPDATED="VFJS_EVENT_MODEL_UPDATED",t.VFJS_EVENT_MODEL_VALIDATE="VFJS_EVENT_MODEL_VALIDATE",t.VFJS_EVENT_STATE_UPDATE="VFJS_EVENT_STATE_UPDATE",t.VFJS_EVENT_STATE_UPDATED="VFJS_EVENT_STATE_UPDATED",t.VFJS_EXTERNAL_EVENT_CHANGE="change",t.VFJS_EXTERNAL_EVENT_STATE_CHANGE="state-change",t.VFJS_EXTERNAL_EVENT_VALIDATED="validated"},function(e,t){e.exports=require("lodash/isEqual")},function(e,t){e.exports=require("lodash/get")},function(e,t){e.exports=require("lodash/merge")},function(e,t){e.exports=require("lodash/set")},function(e,t){e.exports=require("lodash/cloneDeep")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=r(7),f={name:"vue-form-json-schema-field-component",mixins:[((i=n)&&i.__esModule?i:{default:i}).default],render:function(){return this.$createElement(this.vfjsComponent,s({},this.getVfjsAttributes()),this.vfjsComputedFieldChildren)}};t.default=f},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(10)),n=i(r(11)),f=i(r(15)),o={computed:s.default,props:f.default,methods:n.default};t.default=o},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(16)),n=i(r(17)),f=i(r(18)),o=i(r(39)),l=i(r(40)),a={created:function(){this.vfjsInitialize()},beforeDestroy:function(){this.vfjsDestroy()},computed:s.default,data:n.default,props:o.default,methods:f.default,watch:l.default};t.default=a},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.vfjsGlobalMixin=t.vfjsGlobal=t.vfjsFieldMixin=t.vfjsField=void 0;var s=i(r(6)),n=i(r(7)),f=i(r(8)),o=i(r(41));t.vfjsField=s.default,t.vfjsFieldMixin=n.default,t.vfjsGlobal=o.default,t.vfjsGlobalMixin=f.default,t.default=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(3),n=(i=s)&&i.__esModule?i:{default:i},f=["input","option","textarea"],o=["textarea"],l=["input","select","textarea"],a={vfjsComputedFieldHasErrors:function(){return this.vfjsFieldState.vfjsFieldErrors&&this.vfjsFieldState.vfjsFieldErrors.length>0},vfjsComputedShowFieldErrors:function(){return this.vfjsFieldState.vfjsFieldDirty||this.vfjsOptions.showValidationErrors},vfjsComputedFieldErrorOptions:function(){return this.vfjsComputedShowFieldErrors&&this.vfjsComputedFieldHasErrors?this.vfjsFieldErrorOptions:{}},vfjsComputedFieldAttrs:function(){var e={};return-1!==l.indexOf(this.component)&&(e.required=this.vfjsFieldRequired),-1!==f.indexOf(this.component)&&(e.value=this.vfjsFieldModel||this.vfjsFieldOptions.attrs&&this.vfjsFieldOptions.attrs.value),e},vfjsComputedFieldDomProps:function(){var e={};return-1!==o.indexOf(this.component)&&(e.innerHTML=this.vfjsFieldModel||this.vfjsFieldOptions.domProps&&this.vfjsFieldOptions.domProps.innerHTML),e},vfjsComputedFieldOptions:function(){return{attrs:this.vfjsComputedFieldAttrs,domProps:this.vfjsComputedFieldDomProps,key:this.vfjsFieldOptions.key||this.vfjsFieldId}},vfjsComputedMergedFieldOptions:function(){return(0,n.default)({},this.vfjsDefaultOptions,this.vfjsComputedFieldErrorOptions,this.vfjsComputedFieldOptions)},vfjsComputedFieldChildren:function(){return this.vfjsFieldErrorHandler&&!this.vfjsComputedShowFieldErrors?[]:this.$slots.default}};t.default=a},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=i(r(12)),f=i(r(13)),o=i(r(14)),l=s({},n.default,f.default,o.default);t.default=l},function(e,t,r){"use strict";function i(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}Object.defineProperty(t,"__esModule",{value:!0});var s,n=r(3),f=(s=n)&&s.__esModule?s:{default:s},o={getVfjsAttributes:function(){return this.getVfjsFieldAttributes(this.vfjsFieldOptions,this.vfjsComputedMergedFieldOptions)},getVfjsFieldAttributes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.class,s=t.on,n=t.nativeOn,o=i(t,["class","on","nativeOn"]),l=e.class,a=e.on,u=e.nativeOn,d=i(e,["class","on","nativeOn"]);if(!d)return{};var v={class:(0,f.default)({},this.vfjsFieldHelperFormatClasses(l),this.vfjsFieldHelperFormatClasses(r)),on:(0,f.default)(this.vfjsFieldHelperFormatEvents(a),this.vfjsFieldHelperFormatEvents(s)),nativeOn:(0,f.default)(this.vfjsFieldHelperFormatEvents(u),this.vfjsFieldHelperFormatEvents(n))},c=Object.assign({},{props:this.$options.propsData}),j={props:d},h={key:this.vfjsFieldId},p=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},this.vfjsFieldValueProp,this.vfjsFieldModel);return(0,f.default)({},h,c,o,j,d,v,p)}};t.default=o},function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n={vfjsFieldHelperAddListener:function(e,t){e.addEventListener(t,this.vfjsFieldHelperStateEventHandler)},vfjsFieldHelperRemoveListener:function(e,t){e.removeEventListener(t,this.vfjsFieldHelperStateEventHandler)},vfjsFieldHelperStateEventHandler:function(e){e&&"blur"===e.type&&this.setVfjsFieldState({$touched:!0})},vfjsFieldHelperFormatEvents:function(e){if(!e)return{};var t=e;return Array.isArray(e)?t=e.reduce(function(e,t){return s({},e,i({},t,!0))},{}):"string"==typeof e&&(t=i({},e,!0)),this.vfjsFieldHelperFormatEventsReducer(t)},vfjsFieldHelperFormatClasses:function(e){if(!e)return{};if("string"==typeof e)return i({},e,!0);if(Array.isArray(e))return e.reduce(function(e,t){return s({},e,i({},t,!0))},{});if("string"==typeof e){if(-1!==e.indexOf(","))return e.split(",");if(-1!==e.indexOf(" "))return e.split(" ")}return e},vfjsFieldHelperEventHandler:function(e,t){var r=this;return function(e){return"function"==typeof t?r.setVfjsFieldModel(t(e)):e instanceof Event?e.target&&e.target.value?r.setVfjsFieldModel(e.target.value):r.setVfjsFieldModel(void 0):r.setVfjsFieldModel(e)}},vfjsFieldHelperFormatEventsReducer:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce(function(r,n){return s({},r,i({},n,e.vfjsFieldHelperEventHandler(n,t[n])))},{})}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s={setState:function(e){this.setVfjsFieldState(e)},setModel:function(e){this.setVfjsFieldModel(e)},setVfjsFieldState:function(e,t){this.vfjsBus.emit(i.VFJS_EVENT_FIELD_STATE_UPDATE,{key:t||this.vfjsFieldModelKey,value:e})},setVfjsFieldModel:function(e,t){this.vfjsBus.emit(i.VFJS_EVENT_FIELD_MODEL_UPDATE,{key:t||this.vfjsFieldModelKey,value:e})}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={vfjsBus:{type:Object,required:!0},vfjsChildren:{type:Array,default:function(){return[]}},vfjsChildrenUiSchema:{type:Array,default:function(){return[]}},vfjsComponent:{type:[String,Object]},vfjsFieldErrorHandler:{type:Boolean},vfjsFieldErrorOptions:{type:Object},vfjsFieldErrors:{type:Array},vfjsFieldId:{type:String,required:!0},vfjsFieldModel:{type:null},vfjsFieldModelKey:{type:[String,Boolean],required:!0},vfjsFieldOptions:{type:Object,required:!0},vfjsFieldRequired:{type:Boolean,required:!0},vfjsFieldSchema:{type:Object,required:!0},vfjsFieldSchemas:{type:Object},vfjsFieldState:{type:Object,required:!0},vfjsFieldTag:{type:String,default:"div"},vfjsFieldUiSchema:{type:Object,required:!0},vfjsFieldValueProp:{type:String},vfjsOptions:{type:Object,required:!0},vfjsModel:{type:Object,required:!0},vfjsState:{type:Object,required:!0}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={vfjsSchemaValid:function(){return this.vfjsSchema.every(this.isVfjsFieldSchemaValid)},vfjsModelValid:function(){return this.vfjsSchema.every(this.isVfjsFieldModelValid)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0);t.default=function(){return{vfjsBus:{},vfjsEvents:[i.VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN,i.VFJS_EVENT_FIELD_MODEL_UPDATE,i.VFJS_EVENT_FIELD_MODEL_VALIDATE,i.VFJS_EVENT_FIELD_STATE_UPDATE,i.VFJS_EVENT_MODEL_UPDATE,i.VFJS_EVENT_MODEL_UPDATED,i.VFJS_EVENT_MODEL_VALIDATE,i.VFJS_EVENT_STATE_UPDATE,i.VFJS_EVENT_STATE_UPDATED],vfjsFields:[],vfjsFieldsActive:[],vfjsFieldsRequired:[],vfjsListeners:[],vfjsModel:{},vfjsOptions:{allowInvalidModel:!0,ajv:{keywords:{},locale:null,options:{allErrors:!0}},showValidationErrors:!1,validate:!0,validateOnLoad:!0,validateOnChange:!0,valueProp:"value"},vfjsSchema:{},vfjsState:{},vfjsUiSchema:[]}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=i(r(19)),f=i(r(21)),o=i(r(22)),l=i(r(23)),a=i(r(26)),u=i(r(29)),d=i(r(32)),v=i(r(35)),c=s({},n.default,o.default,f.default,l.default,u.default,a.default,d.default,v.default);t.default=c},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(4)),f=i(r(1)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},l=i(r(20)),a=r(0),u={addVfjsListener:function(e,t){var r=this.vfjsBus.on(e,function(r){return t(e,r)});this.vfjsListeners.push(r)},addVfjsListeners:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];t.forEach(function(t){return e.addVfjsListener(t,r)})},removeVfjsListener:function(e){this.vfjsBus.off(e)},removeVfjsListeners:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(this.removeVfjsListener)},removeVfjsListenersAll:function(){this.vfjsBus.off(),this.vfjsListeners=[]},vfjsBusEventHandler:function(e,t){var r,i=this,l=(s(r={},a.VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN,function(){var e=i.vfjsHelperGetFieldsWithClearOnHide(i.uiSchema),t=i.vfjsHelperGetFieldsWithClearOnHide(i.vfjsFieldsActive),r=Object.keys(e).reduce(function(r,i){return i in t||(r[i]=e[i]),r},{});Object.keys(r).forEach(function(e){var t=r[e];if(Array.isArray(t))t.forEach(function(t){var r=i.vfjsHelperApplyFieldModel("string"==typeof t?t:e,void 0);i.setVfjsModel(r,!0)});else{var s=i.vfjsHelperApplyFieldModel("string"==typeof t?t:e,void 0);i.setVfjsModel(s,!0)}})}),s(r,a.VFJS_EVENT_FIELD_MODEL_VALIDATE,function(e){var t=e.key,r=e.value,f=e.cb,o=i.vfjsHelperApplyFieldModel(t,r);i.vfjsBus.emit(a.VFJS_EVENT_MODEL_VALIDATE,{vfjsModel:o,cb:function(){var e={};(0,n.default)(e,t,r);var o={type:"object",required:i.vfjsHelperFieldIsRequired(t)?[t]:[],properties:s({},t,i.getVfjsSchema(t)||{})},l=i.getVfjsValidationErrors(e,o);f&&"function"==typeof f&&f(l)}})}),s(r,a.VFJS_EVENT_FIELD_MODEL_UPDATE,function(e){var t=e.key,r=e.value,s=e.cb;i.vfjsBus.emit(a.VFJS_EVENT_FIELD_MODEL_VALIDATE,{key:t,value:r,cb:function(e){var n=i.getVfjsFieldModel(t),o=Object.assign({},i.getVfjsFieldState(t),{vfjsFieldDirty:!(0,f.default)(n,r),vfjsFieldErrors:e});if(i.setVfjsFieldState(o,t),!e||e&&0===e.length||i.vfjsOptions.allowInvalidModel){var l=i.vfjsHelperApplyFieldModel(t,r);i.setVfjsModel(l)}s&&"function"==typeof s&&s(e)}})}),s(r,a.VFJS_EVENT_FIELD_STATE_UPDATE,function(e){var t=e.key,r=e.value,s=e.cb;i.vfjsBus.emit(a.VFJS_EVENT_STATE_UPDATE,{key:t,value:r,cb:s})}),s(r,a.VFJS_EVENT_MODEL_VALIDATE,function(e){var t=e.vfjsModel,r=e.cb,s=i.getVfjsValidationErrors(t);i.vfjsBus.emit(a.VFJS_EVENT_STATE_UPDATE,{key:"vfjsErrors",value:s,cb:function(){var e=i.getVfjsState();i.$emit(a.VFJS_EXTERNAL_EVENT_VALIDATED,0===e.vfjsErrors.length),r&&"function"==typeof r&&r(s)}})}),s(r,a.VFJS_EVENT_MODEL_UPDATED,function(){i.setVfjsUiFieldsActive(),i.vfjsBus.emit(a.VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN),i.$emit(a.VFJS_EXTERNAL_EVENT_CHANGE,i.getVfjsModel())}),s(r,a.VFJS_EVENT_STATE_UPDATE,function(e){var t=e.key,r=e.value,n=e.cb,f=Object.assign({},i.getVfjsState(),s({},t,r));i.setVfjsState(f),n&&"function"==typeof n&&n()}),s(r,a.VFJS_EVENT_STATE_UPDATED,function(e){var t=o({vfjsErrors:[],vfjsFieldsActive:i.vfjsFieldsActive,vfjsFieldsActiveModels:i.vfjsFieldsActiveModels},i.getVfjsState());i.$emit(a.VFJS_EXTERNAL_EVENT_STATE_CHANGE,t),e&&"function"==typeof e&&e()}),r);e&&e in l&&l[e](t)},vfjsBusInitialize:function(){this.vfjsBus=l.default.create()}};t.default=u},function(e,t){e.exports=require("minibus")},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}Object.defineProperty(t,"__esModule",{value:!0});var f=i(r(5)),o=i(r(4)),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},a=i(r(6)),u={vfjsHelperCreateField:function(e){var t=e.id,r=e.children,i=void 0===r?[]:r,s=e.component,n=e.errorHandler,f=e.errorOptions,o=void 0===f?{}:f,a=e.fieldOptions,u=void 0===a?{}:a,d=e.model,v=void 0===d?"":d,c=e.required,j=void 0!==c&&c,h=e.valueProp,p=void 0===h?this.vfjsOptions.valueProp:h,E=this.getVfjsFieldSchema(v)||{},_=this.schemas,V=this.getVfjsFieldModel(v),F=this.getVfjsFieldState(v)||{},y=this.getVfjsModel(),O=this.getVfjsState(),m=F.vfjsFieldErrors,g=void 0===m?[]:m,M=g.length>0&&n?this.vfjsHelperGetErrors(g,t):i.map(this.vfjsHelperCreateField),S=l({},u,{vfjsBus:this.vfjsBus,vfjsChildren:M,vfjsChildrenUiSchema:i,vfjsFieldErrorHandler:n,vfjsFieldErrorOptions:o,vfjsFieldErrors:g,vfjsFieldId:t,vfjsFieldModel:V,vfjsFieldModelKey:v,vfjsFieldOptions:u,vfjsFieldRequired:j,vfjsFieldSchema:E,vfjsFieldSchemas:_,vfjsFieldState:F,vfjsFieldUiSchema:e,vfjsFieldValueProp:p,vfjsOptions:this.vfjsOptions,vfjsModel:y,vfjsState:O});return this.vfjsHelperCreateComponent({children:M,component:s,props:S})},vfjsHelperGetErrors:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];return t.map(function(t,i){return e.vfjsHelperCreateField({id:r+"-error-"+i,component:"div",fieldOptions:{class:["vfjs-error","vfjs-default-error-handler"],domProps:{innerHTML:t.message}}})})},vfjsHelperHashString:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:62,r=0,i=0;i<e.length;i++)r=33*r^e.charCodeAt(i);r>>>=0;for(var s=[];r>=t;){var n=r%t;s.push("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[n]),r=Math.floor(r/t)}return s.join("")},vfjsHelperCreateComponent:function(e){var t=e.children,r=void 0===t?[]:t,i=e.component,s=e.props,n=this.vfjsComponents[i];return s.vfjsFieldModelKey?this.$createElement(a.default,{key:s.vfjsFieldId+"-wrapper",props:l({},s,{vfjsComponent:n||i})},r):this.$createElement(n||i,l({key:s.vfjsFieldId},s.vfjsFieldOptions),r)},vfjsHelperApplyFieldModel:function(e,t){var r=(0,f.default)(this.getVfjsModel());return(0,o.default)(r,e,t),r},vfjsHelperGenerateField:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)return!1;var i=e.children,s=void 0===i?[]:i,f=n(e,["children"]),o=JSON.stringify({fieldWithoutChildren:f,level:r}),a=this.vfjsHelperHashString(o);return l({},e,{id:a,children:s.map(function(e,i){return t.vfjsHelperGenerateField(e,(i+1)*(r+1))})})},vfjsHelperChildArrayMapper:function(e,t,r){var i=e.model,s=e.children,f=void 0===s?[]:s,o=n(e,["model","children"]);return l({},o,{model:this.vfjsHelperGetChildArrayModelAtIndex(i,t,r),children:this.vfjsHelperChildArrayReducerMapper(t,f,r)})},vfjsHelperChildArrayReducerMapper:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2];return r.reduce(function(r,n){return[].concat(s(r),[t.vfjsHelperChildArrayMapper(n,e,i)])},[])},vfjsHelperGetChildArrayModelAtIndex:function(e,t,r){var i=this.vfjsHelperGetRelativeModel(e,t);return i?t+"."+r+"."+i:e},vfjsHelperGetRelativeModel:function(e,t){return e?String(e).substr(t.length+1):e},vfjsHelperGetParentModel:function(e){var t=String(e).lastIndexOf(".");return String(e).substr(0,t)},vfjsHelperFieldIsRequired:function(e){if(e){var t=this.vfjsHelperGetParentModel(e);return t?-1!==this.vfjsFieldsRequired.indexOf(t):-1!==this.vfjsFieldsRequired.indexOf(e)}return!1},vfjsHelperFieldIsArray:function(e){if(!e)return!1;var t=this.getVfjsFieldSchema(e);return!!t&&Array.isArray(t.items)},vfjsHelperGetFieldsWithClearOnHide:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,r){var i=r.children,s=void 0===i?[]:i,n=r.displayOptions,f=void 0===n?{}:n,o=r.model;return f.clearOnHide&&(o?t[o]=f.clearOnHide:o||"string"!=typeof f.clearOnHide||(t[f.clearOnHide]=f.clearOnHide)),l({},t,e.vfjsHelperGetFieldsWithClearOnHide(s))},{})},getVfjsFieldsModels:function(e){var t=this;return e.reduce(function(e,r){var i=r.children,n=void 0===i?[]:i,f=r.model;return[].concat(s(e),s(f&&-1===e.indexOf(f)?[f]:[]),s(t.getVfjsFieldsModels(n)))},[])}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s={vfjsDestroy:function(){var e=this;this.vfjsEvents.forEach(function(t){return e.removeVfjsListener(t)})},vfjsInitialize:function(){this.setVfjsSchema(this.schema),this.vfjsOptions=i({},this.vfjsOptions,this.options),this.vfjsComponents=this.components,this.vfjsBusInitialize(),this.addVfjsListeners(this.vfjsEvents,this.vfjsBusEventHandler),this.setVfjsModel(this.model,!0),this.vfjsValidationInitialize(),this.setVfjsUiSchema(this.uiSchema),this.setVfjsUiFieldsActive()}};t.default=s},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=i(r(24)),f=i(r(25)),o=s({},n.default,f.default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(2),n=(i=s)&&i.__esModule?i:{default:i},f={getVfjsFieldModel:function(e){return e?this.getVfjsModel(e):this.vfjsFieldModelKey?this.getVfjsModel(this.vfjsFieldModelKey):null},getVfjsModel:function(e){return e&&!0!==e?(0,n.default)(this.vfjsModel,e):this.vfjsModel}};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(1),n=(i=s)&&i.__esModule?i:{default:i},f=r(0),o={setVfjsFieldModel:function(e,t){this.vfjsBus.emit(f.VFJS_EVENT_FIELD_MODEL_UPDATE,{key:t||this.vfjsFieldModelKey,value:e})},setVfjsModel:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,n.default)(e,this.vfjsModel)||(this.vfjsModel=e,t||this.vfjsBus.emit(f.VFJS_EVENT_MODEL_UPDATED,this.getVfjsModel()))}};t.default=o},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=i(r(27)),f=i(r(28)),o=s({},n.default,f.default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(2),n=(i=s)&&i.__esModule?i:{default:i},f={getVfjsState:function(e){return e?(0,n.default)(this.vfjsState,e):this.vfjsState},getVfjsFieldState:function(e){return e?this.getVfjsState(e):this.vfjsFieldModelKey?this.getVfjsState(this.vfjsFieldModelKey):null}};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(1),n=(i=s)&&i.__esModule?i:{default:i},f=r(0),o={setVfjsFieldState:function(e,t){this.vfjsBus.emit(f.VFJS_EVENT_FIELD_STATE_UPDATE,{key:t||this.vfjsFieldModelKey,value:e})},setVfjsState:function(e){var t=this;(0,n.default)(e,this.vfjsState)||(this.vfjsState=Object.assign({},this.getVfjsState(),e),this.vfjsBus.emit(f.VFJS_EVENT_STATE_UPDATED,function(){t.setVfjsFields()}))}};t.default=o},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=i(r(30)),f=i(r(31)),o=s({},n.default,f.default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(2),n=(i=s)&&i.__esModule?i:{default:i},f={getVfjsFieldSchema:function(e){return e?this.getVfjsSchema(e):this.vfjsFieldModelKey?this.getVfjsSchema(this.vfjsFieldModelKey):null},getVfjsSchema:function(e){return e?(0,n.default)(this.vfjsSchema.properties,e)||this.getVfjsSchemaFallback(e):this.vfjsSchema},getVfjsSchemaPath:function(e,t){var r=this.getVfjsSchema();if(!e)return r.items?this.getVfjsSchemaPath("items"):"properties."+t;var i=(0,n.default)(r,e);if(i){if(i.items instanceof Array){var s=this.getVfjsSchemaPath(e+".items");return this.getVfjsSchemaPath(s+".0")}if(i.properties instanceof Object)return this.getVfjsSchemaPath(e+".properties")}return t?e+"."+t:e},getVfjsSchemaFallback:function(e){var t=String(e).split(".").reduce(this.getVfjsSchemaPath,"");return(0,n.default)(this.getVfjsSchema(),t)}};t.default=f},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(1)),n=i(r(5)),f={setVfjsSchema:function(e){(0,s.default)(e,this.vfjsSchema)||(this.vfjsSchema=(0,n.default)(e))}};t.default=f},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=i(r(33)),f=i(r(34)),o=s({},n.default,f.default);t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(2),n=(i=s)&&i.__esModule?i:{default:i},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},o={getVfjsFields:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,r){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t),[e.vfjsHelperCreateField(r)])},[])},getVfjsUiFieldVisible:function(e){if(!e.displayOptions)return!0;var t=e.displayOptions,r=t.model,i=t.schema,s=void 0===i?{}:i,n=void 0===r?this.getVfjsModel():this.getVfjsFieldModel(r);return this.ajv.validate(s,n),0===(this.ajv.errors?this.ajv.errors:[]).length},getVfjsUiFieldArrayChildrenActive:function(e,t){var r=this;return(this.getVfjsFieldModel(e)||[]).map(function(i,s){return r.vfjsHelperChildArrayReducerMapper(e,t,s)}).map(this.getVfjsUiFieldsActive)},getVfjsUiField:function(e){var t=e.children,r=void 0===t?[]:t,i=e.model,s=function(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}(e,["children","model"]);if(this.getVfjsUiFieldVisible(s)){var n=this.vfjsHelperFieldIsArray(i),o=this.vfjsHelperFieldIsRequired(i);return f({},s,n?{model:i,required:o,children:this.getVfjsUiFieldArrayChildrenActive(i,r)}:{model:i,required:o,children:this.getVfjsUiFieldsActive(r)})}return!1},getVfjsUiFieldsActive:function(e){var t=this;return e.reduce(function(e,r,i){if(r){var s=t.getVfjsUiField(r);s&&e.push(s)}return e},[])},getVfjsFieldUiSchema:function(e){return this.getVfjsUiSchema(e)},getVfjsUiSchema:function(e){return e?(0,n.default)(this.vfjsUiSchema,e):this.vfjsUiSchema}};t.default=o},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(1)),n=i(r(5)),f=r(0),o={setVfjsUiSchema:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,r,i){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t),[e.vfjsHelperGenerateField(r,i)])},[]);(0,s.default)(t,this.vfjsUiSchema)||(this.vfjsUiSchema=(0,n.default)(t),this.setVfjsUiFieldsActive())},setVfjsUiFieldsActive:function(){var e=this;this.vfjsFieldsActive=this.getVfjsUiFieldsActive(this.vfjsUiSchema),this.vfjsFieldsActiveModels=this.getVfjsFieldsModels(this.vfjsFieldsActive),this.vfjsBus.emit(f.VFJS_EVENT_STATE_UPDATED,function(){e.setVfjsFields()})},setVfjsFields:function(){this.vfjsFields=this.getVfjsFields(this.vfjsFieldsActive)}};t.default=o},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=i(r(36)),f=i(r(37)),o=i(r(38)),l=r(0),a=s({vfjsValidationInitialize:function(){var e=this,t=this.vfjsOptions.ajv,r=void 0===t?{}:t,i=r.options,f=void 0===i?{}:i,o=r.keywords,a=void 0===o?{}:o;if(this.ajv=new n.default(s({},f,{allErrors:!0})),Object.keys(a).forEach(function(t){"function"==typeof a[t]&&a[t](e.ajv)}),Object.keys(a).forEach(function(t){e.ajv.addKeyword(t,a[t])}),Object.keys(this.schemas).forEach(function(t){e.ajv.addSchema(e.schemas[t],t)}),this.ajv.validate(this.getVfjsSchema(),{}),this.ajv.errors){var u=this.getVfjsPropertiesRequired(this.ajv.errors);this.vfjsFieldsRequired=this.getVfjsChildPropertiesRequired(u)}this.vfjsOptions.validate&&this.vfjsOptions.validateOnLoad&&this.vfjsBus.emit(l.VFJS_EVENT_MODEL_VALIDATE,{vfjsModel:this.getVfjsModel()})}},f.default,o.default);t.default=a},function(e,t){e.exports=require("ajv")},function(e,t,r){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var s,n=r(4),f=(s=n)&&s.__esModule?s:{default:s},o={getVfjsPropertiesRequired:function(e){return e?e.reduce(function(e,t){if("required"===t.keyword&&t.params&&t.params.missingProperty){var r=t.params.missingProperty,i=String(t.dataPath).substr(1),s=i?i+"."+r:r;-1===e.indexOf(s)&&e.push(s)}return e},[]):[]},getVfjsChildPropertiesRequired:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=t.filter(function(e){return-1===r.indexOf(e)});return s.reduce(function(t,n){t.push(n);var o={};(0,f.default)(o,n,{}),e.ajv.validate(e.getVfjsSchema(),o);var l=e.getVfjsPropertiesRequired(e.ajv.errors);if(l.length>0){var a=[].concat(i(r),i(s)),u=e.getVfjsChildPropertiesRequired(l,a);t.push.apply(t,i(u))}return t},[])},getVfjsFieldModelValid:function(e,t){return 0===this.getVfjsFieldModelValidationErrors(e,t).length},getVfjsFieldModelValidationErrors:function(e,t){return this.getVfjsValidationErrors(t,this.getVfjsSchema(e))},getVfjsModelValidationErrorsLocalized:function(){var e=this.vfjsOptions.ajv,t=(void 0===e?{}:e).locale;"function"==typeof t&&t(this.ajv.errors)},getVfjsValid:function(){return 0===this.getVfjsValidationErrors().length},getVfjsValidationErrors:function(e,t){var r=t||this.getVfjsSchema(),i=e||this.getVfjsModel(),s=this.ajv.validate(r,i);return this.getVfjsModelValidationErrorsLocalized(),s?[]:this.ajv.errors}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},s=r(0),n={setVfjsValidationErrors:function(){var e=this;this.vfjsBus.emit(s.VFJS_EVENT_MODEL_VALIDATE,{vfjsModel:this.getVfjsModel(),cb:function(){return e.vfjsFieldsRequired.map(function(t){return new Promise(function(r,n){e.vfjsBus.emit(s.VFJS_EVENT_FIELD_MODEL_VALIDATE,{key:t,value:e.getVfjsFieldModel(t),cb:function(n){var f=e.getVfjsFieldState(t);e.vfjsBus.emit(s.VFJS_EVENT_FIELD_STATE_UPDATE,{key:t,value:i({},f,{vfjsFieldErrors:n}),cb:function(){r()}})}})})})}}),this.vfjsBus.emit(s.VFJS_EVENT_STATE_UPDATE,{key:"showValidationErrors",value:this.vfjsOptions})}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{type:Object,default:function(){return{}}},model:{type:Object,default:function(){return{}}},schema:{type:Object,required:!0,default:function(){return{}}},schemas:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},tag:{type:String,default:"div"},uiSchema:{type:Array,required:!0,default:function(){return{}}}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(3),n=(i=s)&&i.__esModule?i:{default:i},f={components:function(e){this.vfjsComponents=Object.assign({},e)},model:function(e){this.setVfjsModel(e)},schema:function(e){this.setVfjsSchema(e)},uiSchema:function(e){this.setVfjsUiSchema(e)},options:function(e){this.vfjsOptions=(0,n.default)({},this.vfjsOptions,e),this.vfjsOptions.showValidationErrors&&this.setVfjsValidationErrors()}};t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,s=r(8),n={name:"vue-form-json-schema",mixins:[((i=s)&&i.__esModule?i:{default:i}).default],render:function(){return this.$createElement(this.tag,this.vfjsFields)}};t.default=n}])});
//# sourceMappingURL=vue-form-json-schema.umd.js.map